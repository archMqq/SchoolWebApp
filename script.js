document.addEventListener("DOMContentLoaded", () => {
    const overlay = document.getElementById("overlay");
    const popup = document.getElementById("popup");
    const popupContent = document.getElementById("popupContent");
    const closePopup = document.getElementById("closePopup");

    if (!overlay || !popup || !popupContent || !closePopup) {
        console.error("Некоторые элементы не найдены в DOM!");
        return;
    }

    const openPopup = (content) => {
        if (!content) {
            console.error("Контент для всплывающего окна отсутствует!");
            return;
        }
        popupContent.innerHTML = content; 
        overlay.style.display = "flex";
    };

    const closePopupHandler = () => {
        overlay.style.display = "none";
        popupContent.innerHTML = ""; // Очищаем содержимое после закрытия
    };

    const addPopupButtonListener = (buttonId, content) => {
        const button = document.getElementById(buttonId);
        if (!button) {
            console.error(`Кнопка с ID "${buttonId}" не найдена!`);
            return;
        }
        button.addEventListener("click", () => openPopup(content));
    };

    addPopupButtonListener("memoryButton", "<h2>Текст про память</h2><p>Эффективное запоминание слов основывается на понимании, что язык мозга – это образы, прежде всего зрительные. Чтобы запомнить слово, его нужно представить, и чем чётче вы это сделаете, тем лучше будет результат. Важнейший элемент памяти – это ассоциации. Чем интереснее и ярче ассоциация, тем выше вероятность запомнить слово. Существуют приёмы, такие как цепочка, матрёшка, метод Цицерона и СЧС, которые позволяют создавать искусственные ассоциации. Каждый из них имеет свои преимущества и недостатки, и если вы освоите их, то легко сможете применять на практике. Самый простой способ запоминания слов – это попарное соединение образов. Например, чтобы запомнить список слов: стул, холодильник, телефон, тумбочка, пирожное, связываем их последовательно. Представьте, что на стуле стоит холодильник, на холодильнике лежит телефон и звонит, а рядом – тумбочка, на которой лежит пирожное. Важно, чтобы размеры предметов были сопоставимы, например, телефон должен быть размером с холодильник. При этом важно придерживаться одной системы – второй образ всегда должен быть сверху, справа или как-то проникать в первый. Для избежания забывания начала списка важно закрепить первое слово в своём воображении: представить его перед собой, положить на стол или даже «зажать» в руке. Такие простые и последовательные действия помогут выстроить чёткую систему, облегчающую запоминание.</p>");
    addPopupButtonListener("planButton", "<h2>План по запоминанию</h2><p>Одна из ключевых техник заключается в создании ярких образов. Мозг легче запоминает информацию, если она представлена как яркая, необычная картина. Например, чтобы запомнить слово кактус, представьте себе гигантский кактус, может быть разноцветный. Или наоборот, сделать нужно  его очень маленьким, размером со спичечный коробок. Еще одним эффективным методом является разбиение информации на части, что облегчает восприятие больших объемов данных. Например, длинный номер телефона легче запомнить, если разделить его на блоки. Таким образом, инфомации становится немного больше, но мозгу её лечге воспринимать в таком виде. Ещё очень полезно вовлекать другие органы чувств — не только зрение, но и слух, обоняние и вкус. Например, можно представить себе запах, который ассоциируется с определённой информацией, или даже вообразить вкус чего-то знакомого, когда вы изучаете новый материал. Это помогает создать более сильные ассоциации и улучшить восприятие. Вовлекая все чувства, вы создаете многослойные связи с информацией, что значительно облегчает её запоминание. Такие методы делают процесс обучения более живым и запоминающимся, увеличивая шансы на успешное воспроизведение информации позже. Также не стоит зыбывать и о кривой Эббингауза, которая показывает, как быстро человек забывает информацию после её усвоения. Согласно её теории, забывание происходит наиболее интенсивно в первые часы и дни после изучения, а затем процесс замедляется. Это связано с тем, что информация, не повторяемая, теряется из краткосрочной памяти, а оставшаяся укрепляется в долговременной. Чтобы минимизировать забывание, Эббингауз предложил метод рассеянного повторения, при котором информация повторяется через интервалы времени, что помогает закрепить её в долговременной памяти.</p>");
    addPopupButtonListener("instructionsButton", "<h2>Инструкция</h2><p>Инструкция по боту:<br>-  В настройках пользователь меняет значения, по которым будет ему предлагаться тренировка<br>*бот не отвечает, после ввода значений, пользователь сам должен выбрать, продолжить редактирование или вернуться.<br>- В разделе слова и числа пользователь тренируется <br>- Раздел скорочтения имеет несколько видов тренировок для повышения скорочти чтения<br>- В разделе ассоциаций пользователь вводит несколько одно или несколько слов (могут быть и на английском) и получает на них ассоциации<br><br>Как пользоваться - инструкция по запоминанию:<br>1) найти какое-то интересное место (начало отсчета)<br>2) это место - нулевой элемент, с которого всё будет начинаться<br>3) начать связывать элементы последовательно (подробнее в советах написано, как лучше это сделать)<br>* чем необычней образ, тем тем лучше ассоциация</p>");

    closePopup.addEventListener("click", closePopupHandler);

    overlay.addEventListener("click", (e) => {
        if (e.target === overlay) closePopupHandler();
    });
});
